{% extends "groups/groups_base.html" %}

{% block title %}My Sessions{% endblock %}

{% block content %}
  <style>
    .session-container {
        color: #222222;
      max-width: 1000px;
      margin: 40px auto;
      padding: 30px;
      background-color: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      font-family: sans-serif;
    }

    .session-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 20px;
      color: #333;
      text-align: center;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    thead {
      background-color: #f1f1f1;
    }

    th, td {
      text-align: left;
      padding: 12px 16px;
      border-bottom: 1px solid #ddd;
      font-size: 14px;
    }

    tr:hover {
      background-color: #fafafa;
    }

    .action-button {
      display: inline-block;
      padding: 6px 12px;
      background-color: #1976d2;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      transition: background-color 0.3s ease;
      font-size: 13px;
    }

    .action-button:hover {
      background-color: #0d47a1;
    }

    .no-sessions {
      color: #d44141;
      font-size: 16px;
      text-align: center;
      margin-top: 30px;
    }

    .back-link {
      margin-top: 30px;
      text-align: center;
    }

    .back-link a {
      color: #027A48;
      text-decoration: none;
      font-weight: bold;
    }

    .back-link a:hover {
      text-decoration: underline;
    }
  </style>

  <div class="session-container">
    <h2 class="session-title">My Booked Sessions</h2>

    {% if sessions %}
      <table>
        <thead>
          <tr>
            <th>Teacher's Name</th>
            <th>Language</th>
            <th>Start</th>
            <th>End</th>
            <th>Status</th>
            <th>Notes</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for session in sessions %}
            <tr>
              <td>{{ session.teacher.name }}</td>
              <td>{{ session.language }}</td>
              <td>{{ session.start_time|date:"Y-m-d H:i" }}</td>
              <td>{{ session.end_time|date:"Y-m-d H:i" }}</td>
              <td>{{ session.status|capfirst }}</td>
              <td>{{ session.notes|default:"—" }}</td>
              <td>
                <a href="{% url 'group3:add_review' session.teacher.id %}" class="action-button">
                  Review
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="no-sessions">You haven’t booked any sessions yet.</p>
    {% endif %}

    <div class="back-link">
      <a href="{% url 'group3:student_landing' %}">&larr; Back to Student Portal</a>
    </div>
  </div>
{% endblock %}
